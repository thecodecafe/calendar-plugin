var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};!function(it){var at={ACTIVE:"active",LOADER_SHOW:"show-loader",CONTAINER:"cp-container",CALENDAR:"cp-calendar",MONTH_CALENDAR:"cp-calendar-{month}",SEASON_CALENDAR:"cp-calendar-{season}",HEADER:"cp-header",HEADER_CONTENT:"cp-header-content",HEADER_OPTIONS_CONTAINER:"cp-header-options-container",HEADER_OPTIONS:"cp-header-options",HEADER_OPTIONS_INNER:"cp-header-options-inner",HEADER_OPTIONS_BUTTONS_CONTAINER:"cp-header-options-buttons-container",HEADER_OPTIONS_BUTTON:"cp-header-options-button",HEADER_OPTIONS_ABOVE:"cp-header-options-above",HEADER_OPTIONS_VISIBLE:"cp-header-options-visible",NAV_CONTROLS:"cp-nav-controls",CONTROLS_CONTAINER:"cp-nav",MONTH_HEADER:"cp-header-{month}",SEASON_HEADER:"cp-header-{season}",DATE_CELL:"cp-date",DATE_DAY:"cp-day",DATE_SELECTED:"cp-date-selected",DATE_CELL_CONTENT:"cp-date-content",WEEK_ROW:"cp-week",WEEK_EVENTS:"cp-week-events",MONTH_HEADING:"cp-month-heading",MONTH_CELL:"cp-month",MONTH_NAME_BUTTON:"cp-month-name",EMPTY_DAY:"cp-empty-day",EMPTY_DAY_BEGINNING:"cp-empty-day-beginning",EMPTY_DAY_ENDING:"cp-empty-day-ending",ADD_MENU_CONTAINER:"cp-add-menu",ADD_MENU_INNER:"cp-add-menu-inner",ADD_MENU_BUTTONS_CONTAINER:"cp-add-menu-buttons-container",ADD_MENU_BUTTON:"cp-add-menu-button",ADD_MENU_ABOVE:"cp-add-menu-above",ADD_MENU_VISIBLE:"cp-add-menu-visible",VIEWS_LIST_CONTAINER:"cp-view-list-container",VIEWS_LIST:"cp-view-list",VIEWS_ITEM:"cp-view",VIEW_BUTTON:"cp-view-button"},st={BODY:"body",CONTAINER:".cp-container",CONTAINER_ID:"cp-container-id",CALENDAR:".cp-calendar",HEADER:".cp-header",HEADER_CONTENT:".cp-header-content",HEADER_OPTIONS_CONTAINER:".cp-header-options-container",HEADER_OPTIONS:".cp-header-options",HEADER_OPTIONS_INNER:".cp-header-options-inner",HEADER_OPTIONS_BUTTONS_CONTAINER:".cp-header-options-buttons-container",HEADER_OPTIONS_BUTTON:".cp-header-options-button",HEADER_OPTIONS_ABOVE:".cp-header-options-above",HEADER_OPTIONS_VISIBLE:".cp-header-options-visible",NAV_CONTROLS:".cp-nav-controls",CONTROL_BUTTONS:"button.cp-nav",DATE_CELL:".cp-date",DATE_DAY:".cp-day",DATE_SELECTED:".cp-date-selected",DATE_CELL_CONTENT:".cp-date-content",WEEK_ROW:".cp-week",WEEK_EVENTS:".cp-week-events",MONTH_HEADING:".cp-month-heading",MONTH_CELL:".cp-month",MONTH_NAME_BUTTON:".cp-month-name",EMPTY_DAY:".cp-empty-day",EMPTY_DAY_BEGINNING:".cp-empty-day-beginning",EMPTY_DAY_ENDING:".cp-empty-day-ending",ADD_MENU_CONTAINER:".cp-add-menu",ADD_MENU_INNER:".cp-add-menu-inner",ADD_MENU_BUTTON:".cp-add-menu-button",ADD_MENU_BUTTONS_CONTAINER:".cp-add-menu-buttons-container",VIEWS_LIST_CONTAINER:".cp-view-list-container",VIEWS_LIST:".cp-view-list",VIEWS_ITEM:".cp-view",VIEW_BUTTON:".cp-view-button",VIEW_SELECTOR:'[data-toggle="calendar-view"]',EVENT_FORM_MODAL:".cp-ef-modal",EXPORT_BUTTON:'[data-export="calendar"]'},rt={CONTAINER:"<div class='"+at.CONTAINER+"' id='"+st.CONTAINER_ID+"'>{header}{calendar}{add_menu}</div>",MAIN:"<table class='"+at.CALENDAR+" {classnames}'  cellspacing='0' cellpadding='0'><thead>{heading}</thead><tbody>{content}</tbody></table>",DAYS_HEADING:"<tr class='"+at.MONTH_HEADING+"'> <th>Sun</th> <th>Mon</th> <th>Tue</th> <th>Wed</th> <th>Thur</th> <th>Fri</th> <th>Sat</th> </tr>",WEEK_ROW:"<tr class='"+at.WEEK_ROW+"' data-row='{row}'>{content}</tr>",DAY_CELL:"<td class='"+at.DATE_CELL+" {classnames}' data-date='{date}'><div class='"+at.DATE_CELL_CONTENT+"'>{content}</div></td>",HEADER:"<div class='"+at.HEADER+" {classnames}'><div class='"+at.NAV_CONTROLS+"'>{left-control}{right-control}</div><div class='"+at.HEADER_CONTENT+"'><div class='"+at.HEADER_OPTIONS_CONTAINER+"'><button class='"+at.MONTH_NAME_BUTTON+"'>{month}<span class='caret'></span></button><div class='"+at.HEADER_OPTIONS+"' id='headerOptionsComponent'><div class='"+at.HEADER_OPTIONS_INNER+"'><div class='"+at.HEADER_OPTIONS_BUTTONS_CONTAINER+"'><a class='"+at.HEADER_OPTIONS_BUTTON+"' href='javascript:;' data-export='calendar' data-format='pdf'>Export to .pdf</a><a class='"+at.HEADER_OPTIONS_BUTTON+"' href='javascript:;' data-export='calendar' data-format='docx'>Export to .docx</a></div><span class='caret'></span></div></div></div></div>{view-options}</div>",VIEWS:"<div class='"+at.VIEWS_LIST_CONTAINER+"'><ul class='"+at.VIEWS_LIST+"'><li class='"+at.VIEWS_ITEM+"'><button type='button' class='"+at.VIEW_BUTTON+" daily' data-toggle='calendar-view' data-option='daily'>Daily</button></li><li class='"+at.VIEWS_ITEM+"'><button type='button' class='"+at.VIEW_BUTTON+" weekly' data-toggle='calendar-view' data-option='weekly'>Weekly</button></li><li class='"+at.VIEWS_ITEM+"'><button type='button' class='"+at.VIEW_BUTTON+" monthly' data-toggle='calendar-view' data-option='monthly'>Monthly</button></li></ul></div>",CONTROL:"<button class='"+at.CONTROLS_CONTAINER+"' type='submit' {direction}>{label}</button>",ADD_MENU:"<div class='"+at.ADD_MENU_CONTAINER+"' id='addMenuComponent'><div class='"+at.ADD_MENU_INNER+"'><div class='"+at.ADD_MENU_BUTTONS_CONTAINER+"'><button class='"+at.ADD_MENU_BUTTON+"' type='button' data-action='add-event'>Add Event</button><button class='"+at.ADD_MENU_BUTTON+" cancel' data-action='cancel' type='button'>Cancel</button></div><span class='caret'></span></div></div>"},ot={spring:{display_name:"Spring",months:[3,4,5,6]},summer:{display_name:"Summer",months:[7,8,9]},fall:{display_name:"Fall",months:[10,11]},winter:{display_name:"Winter",months:[12,1,2]}},lt=["January","February","March","April","May","June","July","August","September","October","November","December"],t=new function(){var _=this;_.now=new Date,_.selection=[],_.createFormModal=null,_.editFormModal=null,_.events=[],_.eventInstances=[],_.viewOptions=["daily","weekly","monthly"];var o=moment(moment().format("YYYY-MM-DD 00:00:00")),l=moment(o).add(6,"days"),a=moment();_.settings={},_.init=function(t){_.el=this,_.settings=it.extend({month:_.now.getMonth()+1,year:_.now.getFullYear(),dayStyle:"short",cellMaxHeigh:200,respData:"data",id:"id",title:"title",startDate:"startDate",endDate:"endDate",startTime:"startTime",endTime:"endTime",creatRequest:null,editRequest:null,view:"monthly",hideViewOptions:!1,form:[]},t);var e=it.extend(ot,t?t.seasons:{});return _.settings.seasons=e,(_.settings.month<1||12<_.settings.month)&&(_.settings.month=1),setupForm(),s(),"destroy"==t&&_.destroy(),_};var s=function(){t(),_.createFormModal=new CPEventFormModal("new-event"+_.now.getTime(),{url:_.settings.createUrl||_.settings.url||null,data:_.settings.data,headers:_.settings.headers,onSaved:$,requestStruct:_.settings.creatRequest||null,fieldsList:_.settings.form}),_.createFormModal.render(),_.editFormModal=new CPEventFormModal("edit-event"+_.now.getTime(),{editting:!0,url:_.settings.editUrl||_.settings.url||null,deleteUrl:_.settings.deleteUrl||_.settings.url||null,data:_.settings.data,headers:_.settings.headers,onSaved:$,onDelete:$,requestStruct:_.settings.editRequest||null,fieldsList:_.settings.form}),_.editFormModal.render()};setupForm=function(){var t=_.settings.form,e={};if(t&&t.constructor==Array)for(var n=0;n<t.length;n++)if(null!=t[n])if(t[n].constructor==Array)for(var i=0;i<t[n].length;i++)e[t[n][i].name]=_extends({},t[n][i]);else console.warn("Form structure malformed at fields list "+n+" form must have the following structure in order to render. Array<Array<object>>")};var t=function(){var t="";switch(_.settings.view){case"daily":t=n();break;case"weekly":t=e();break;case"monthly":t=m(v())}it(_.el).html(""),it(t).prependTo(it(_.el)),$(),p()},e=function(){return"<div class='"+at.CONTAINER+"' id='"+st.CONTAINER_ID+"'>"+y("weekly")+"<table class='"+at.CALENDAR+" weekly'  cellspacing='0' cellpadding='0'><thead>"+d()+"</thead><tbody>"+u()+"</tbody></table>"+N()+"</div>"},n=function(){return"<div class='"+at.CONTAINER+"' id='"+st.CONTAINER_ID+"'>"+y("daily")+"<table class='"+at.CALENDAR+" daily'  cellspacing='0' cellpadding='0'><thead>"+r()+"</thead><tbody>"+c()+"</tbody></table>"+N()+"</div>"},r=function(){return'<tr class="'+at.MONTH_HEADING+'"><th>Time</th><th></th></tr>'},c=function(){for(var t,e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],n="",i=0;i<e.length;i++)t=12<=i?"PM":"AM",n+='<tr class="'+at.WEEK_ROW+' daily">\n                            <td>'+nt(e[i])+" "+t+'</td>\n                            <td class="'+at.DATE_CELL+" "+at.DATE_DAY+'" data-date="'+moment(a.format("YYYY-MM-DD "+nt(e[i])+":00:00")).get("time")+'">\n                                <div class="'+at.DATE_CELL_CONTENT+'"></div>\n                            </td>\n                        </tr>';return n},d=function(){for(var t='<tr class="'+at.MONTH_HEADING+'"><th>Time</th>',e=o.get("time");e<=l.get("time");e+=864e5)t+="<th >"+moment(e).format("ddd DD")+"</th>";return t+="</tr>"},u=function(){for(var t,e,n,i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],a="",s=0;s<i.length;s++){n=12<=s?"PM":"AM",t=nt(i[s])+" "+n,a+='<tr class="'+at.WEEK_ROW+' weekly"><td style=" text-align: right; padding-right: 15px;">'+t+"</td>";for(var r=o.get("time");r<=l.get("time");r+=864e5)e=moment(moment(r).format("YYYY-MM-DD ")+nt(i[s])+":00:00"),a+='<td class="'+at.DATE_CELL+" "+at.DATE_DAY+'" data-date="'+e.get("time")+'"><div class="'+at.DATE_CELL_CONTENT+'"></div></td>';a+="</tr>"}return a},y=function(t){var e=j(_.settings.month-1),n="";if(n+=" "+at.MONTH_HEADER.replace("{month}",j(_.settings.month-1).toLowerCase())+" ",n+=" "+at.SEASON_HEADER.replace("{season}",V()?V().name:"")+" ","weekly"==t){e=j(o.get("month"));n+=" "+at.MONTH_HEADER.replace("{month}",j(o.get("month")-1).toLowerCase())+" ",e+=" "+nt(o.get("date"))+" - ",e+=l.get("month")!=o.get("month")?j(l.get("month"))+" "+nt(l.get("date")):nt(l.get("date"))}if("daily"==t){e=a.format("Do MMMM YYYY");n+=" "+at.MONTH_HEADER.replace("{month}",j(a.get("month")-1).toLowerCase())+" "}return"<div class='"+at.HEADER+" "+n+"'><div class='"+at.NAV_CONTROLS+"'>"+h("left")+h("right")+"</div><div class='"+at.HEADER_CONTENT+"'><div class='"+at.HEADER_OPTIONS_CONTAINER+"'><button class='"+at.MONTH_NAME_BUTTON+"'>"+e+"<span class='caret'></span></button><div class='"+at.HEADER_OPTIONS+"' id='headerOptionsComponent'><div class='"+at.HEADER_OPTIONS_INNER+"'><div class='"+at.HEADER_OPTIONS_BUTTONS_CONTAINER+"'><a class='"+at.HEADER_OPTIONS_BUTTON+"' href='javascript:;' data-export='calendar' data-format='pdf'>Export to .pdf</a><a class='"+at.HEADER_OPTIONS_BUTTON+"' href='javascript:;' data-export='calendar' data-format='docx'>Export to .docx</a></div><span class='caret'></span></div></div></div></div>"+f()+"</div>"},h=function(t){var e="right"==t?"&rarr;":"&larr;";return"<button class='"+at.CONTROLS_CONTAINER+"' type='submit' "+t+">"+e+"</button>"},f=function(){return"<div class='"+at.VIEWS_LIST_CONTAINER+"'><ul class='"+at.VIEWS_LIST+"'><li class='"+at.VIEWS_ITEM+"'><button type='button' class='"+at.VIEW_BUTTON+" daily' data-toggle='calendar-view' data-option='daily'>Day</button></li><li class='"+at.VIEWS_ITEM+"'><button type='button' class='"+at.VIEW_BUTTON+" weekly' data-toggle='calendar-view' data-option='weekly'>Week</button></li><li class='"+at.VIEWS_ITEM+"'><button type='button' class='"+at.VIEW_BUTTON+" monthly' data-toggle='calendar-view' data-option='monthly'>Month</button></li></ul></div>"},N=function(){return"<div class='"+at.ADD_MENU_CONTAINER+"' id='addMenuComponent'><div class='"+at.ADD_MENU_INNER+"'><div class='"+at.ADD_MENU_BUTTONS_CONTAINER+"'><button class='"+at.ADD_MENU_BUTTON+"' type='button' data-action='add-event'>Add Event</button><button class='"+at.ADD_MENU_BUTTON+" cancel' data-action='cancel' type='button'>Cancel</button></div><span class='caret'></span></div></div>"},E=function(){for(var t=0;t<_.eventInstances.length;t++){_.eventInstances[t].destroy()}_.eventInstances=[]},p=function(){var t=st.CONTAINER,e=st.ADD_MENU_BUTTON,n=st.EXPORT_BUTTON;g(),it(window).off("resize",g),it(window).on("resize",g),D(),it(window).off("resize",D),it(window).on("resize",D),it(t).find(e).off("click",w),it(t).find(e).on("click",w),it(t).find(n).off("click",Z),it(t).find(n).on("click",Z),A(),P(),H(),et(),Q()},m=function(t){for(var e=Y(rt.CONTAINER),n=Y(rt.MAIN),i=Y(rt.DAYS_HEADING),a=Y(rt.DAY_CELL),s=Y(rt.WEEK_ROW),r=(_.settings.hideViewOptions||Y(rt.VIEWS),Y(rt.ADD_MENU),j(_.settings.month-1)),o=V(),l="",c=0;c<t.length;c++){for(var d="",u=0;u<t[c].length;u++){var h="",f=t[c][u].toString(),p=t[c][u-1]?t[c][u-1].toString():"",E=a.replace("{content}",t[c][u]);if(f.length<1)h+=" "+at.EMPTY_DAY+" ",0==u&&f.length<1&&(h+=" "+at.EMPTY_DAY_BEGINNING+" "),p&&O()==p.trim()&&(h+=" "+at.EMPTY_DAY_ENDING+" "),E=E.replace("{date}","");else{h+=" "+at.DATE_DAY;var m=new Date(_.settings.month+"/"+t[c][u]+"/"+_.settings.year);E=E.replace("{date}",m.getTime())}d+=E=E.replace("{classnames}",h)}var v=Y(s);l+=(v=v.replace("{row}",c+1)).replace("{content}",d)}var T="monthly";return T+=" "+at.MONTH_CALENDAR.replace("{month}",r.toLowerCase())+" ",T+=" "+at.SEASON_CALENDAR.replace("{season}",o?o.name:"")+" ",n=(n=(n=n.replace("{content}",l)).replace("{heading}",i)).replace("{classnames}",T),e=(e=(e=e.replace("{header}",y())).replace("{calendar}",n)).replace("{add_menu}",N())},v=function(){var t=O(_.settings.month,_.settings.year),e=new Date(_.settings.year,_.settings.month-1,1).getDay();return W(T(e,t),7)},T=function(t,e){var n=[];for(i=0;i<35;i++)i>=t&&i-t<e?n.push(i-t+1):n.push("");return n},O=function(t,e){var n,i="number"==typeof t?t.toString():t;return-1!=["1","3","5","7","8","10","12"].indexOf(i)?n=31:-1!=["4","6","9","11","8"].indexOf(i)?n=30:2==t&&(n=b(e)?29:28),n},b=function(t){return t%4==0},g=function(){var t=st.DATE_CELL_CONTENT,e=it(st.CONTAINER+" "+st.CALENDAR+" "+st.WEEK_ROW+" "+st.DATE_CELL),n=it(e[0]).outerWidth()>_.settings.cellMaxHeigh?_.settings.cellMaxHeigh+"px":it(e[0]).outerWidth()+"px";"monthly"!=_.settings.view&&(n="initial"),e.find(t).css({height:n}),U()},D=function(){for(var t=it(st.CONTAINER+" "+st.CALENDAR+" "+st.WEEK_ROW+" "+st.DATE_CELL),e=it(t[0]).outerWidth(),n=0,i=0;i<t.length;i++){var a=t.eq(i);if(a.hasClass(at.EMPTY_DAY)){var s=n*e;s=s<=0?0:-s,a.css({backgroundPosition:s+"px 0px"}),n++}}},A=function(){var t=Y(st.CONTROL_BUTTONS);it(t).off("click",C),it(t).on("click",C)},C=function(t){var e=t.target,n=it(e).attr("left"),i=it(e).attr("right"),a=Y(_.settings),s=void 0!==n?"left":void 0;s=void 0!==i?"right":s,"monthly"==a.view&&S(s),"weekly"==a.view&&R(s),"daily"==a.view&&I(s)},S=function(t){var e=Y(_.settings);"left"==t?(e.year=e.month<=1?e.year-1:e.year,e.month=e.month<=1?e.month=12:e.month-1):"right"==t&&(e.year=12<=e.month?e.year+1:e.year,e.month=12<=e.month?e.month=1:e.month+1),_.settings=it.extend({},_.settings,e);var n=moment();o=n.get("month")+1==e.month&&n.get("year")==e.year?moment(e.year+"-"+nt(e.month)+"-"+nt(n.get("date"))):moment(e.year+"-"+nt(e.month)+"-01"),l=moment(o).add(6,"days"),a=moment(o),s()},R=function(t){Y(_.settings);"left"==t?o=moment(o).subtract(8,"day"):"right"==t&&(o=moment(l).add(1,"day")),l=moment(o).add(6,"day");moment();_.settings=it.extend({},_.settings,{year:o.get("year"),month:o.get("month")+1}),a=moment(o),s()},I=function(t){Y(_.settings);"left"==t?a=moment(a).subtract(1,"day"):"right"==t&&(a=moment(a).add(1,"day")),(a.get("time")<o.get("time")||a.get("time")>l.get("time"))&&(o=moment(a),l=moment(o).add(6,"days")),_.settings=it.extend({},_.settings,{year:a.get("year"),month:a.get("month")+1}),s()},w=function t(e){var n=st.ADD_MENU_BUTTON;switch(it(st.CONTAINER).find(n).off("click",t),it(e.currentTarget).attr("data-action")){case"add-event":k();break;case"cancel":M()}p()},k=function(){var t=0<_.selection.length?_.selection[0]:null,e=1<_.selection.length?_.selection[1]:t;if(null!=t){var n={startDate:new Date(t),endDate:new Date(e)};_.createFormModal.show(n),M()}},M=function(){_.selection=[],H()},L=function(t){var e=new Date(t.startDate),n=new Date(t.endDate),i=Object.assign({},t,{title:t.title,startDate:e,endDate:n,startTime:t.startTime,endTime:t.endTime});_.editFormModal.show(i,t.id)},P=function(){var t=st.DATE_DAY;it(t).off("click",F),it(t).on("click",F)},F=function t(e){it(st.DATE_DAY).off("click",t);var n=e.currentTarget;if(!it(e.target).hasClass("cp-ev-event")&&!it(e.target).hasClass("cp-ev-event-label")){var i=it(n).attr("data-date"),a=0<_.selection.length?_.selection[0]:0,s=1<_.selection.length?_.selection[1]:a;null!=i&&(i=parseInt(i),a<1||0<a&&i<a?_.selection[0]=i:i==a&&s==a?_.selection=[]:i==a?_.selection=[a]:_.selection[1]=i),H()}P()},H=function(){var t=st.CALENDAR,e=st.DATE_DAY,n=at.DATE_SELECTED,i=it(t).find(e),a=0<_.selection.length?_.selection[0]:0,s=1<_.selection.length?_.selection[1]:a;if(i&&0<i.length)for(var r=0;r<i.length;r++){var o=i.eq(r),l=it(o).attr("data-date");if(null!=l)a<=(l=parseInt(l))&&l<=s?it(o).hasClass(n)||it(o).addClass(n):it(o).hasClass(n)&&it(o).removeClass(n)}x()},x=function(){var t=st.CONTAINER,e=st.ADD_MENU_CONTAINER,n=st.DATE_SELECTED,i=at.ADD_MENU_VISIBLE,a=it(t),s=a.find(n),r=a.find(e);s&&0<s.length?r.hasClass(i)||r.addClass(i):r.hasClass(i)&&r.removeClass(i),U()},U=function(){var t=st.ADD_MENU_CONTAINER,e=st.CONTAINER,n=at.ADD_MENU_ABOVE,i=B(),a=it(e).find(t),s=X();if(null!=i&&null!=i){var r=i.offset(),o=r?r.left:0,l=r?r.top+i.outerHeight()-10:0;i.outerWidth()>a.outerWidth()?o+=(i.outerWidth()-a.outerWidth())/2:o-=(a.outerWidth()-i.outerWidth())/2,a.outerHeight()+l>s.height?(l=r?r.top-a.outerHeight()+10:0,a.hasClass(n)||a.addClass(n)):a.hasClass(n)&&a.removeClass(n),a.css({top:l,left:o})}},W=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},Y=function(t){return JSON.parse(JSON.stringify(t))},j=function(t){return null==lt[t]?"":lt[t]},V=function(){for(var t in _.settings.seasons){var e=_.settings.seasons[t];if(null!=e&&-1!=e.months.indexOf(_.settings.month))return{name:t,display_name:e.display_name}}return null},B=function(){var t=0<_.selection.length?_.selection[0]:null,e=1<_.selection.length?_.selection[1]:t;return e&&(e=it(st.CONTAINER).find('[data-date="'+e+'"]')),e},X=function(){return{width:it(document).outerWidth(),height:it(document).outerHeight()}},$=function(){i&&4!=i.readyState&&i.abort();var t=_.settings.list_url||_.settings.url||null;if(t)var e=it.extend({},_.settings.data,{month:_.settings.month,year:_.settings.year}),n=it.extend({},_.settings.headers),i=it.ajax({url:t,method:"GET",data:e,headers:n}).done(G).fail(q)},G=function(t){_.events=J(t),function(){E();for(var t,e,n,i,a,s=st.CALENDAR,r=st.WEEK_ROW,o=st.DATE_CELL,l=st.DATE_CELL_CONTENT,c=(it(s).find(r),it(s).find(o)),d=0;d<c.length;d++)if(e=c.eq(d),"number"==typeof(n=parseInt(e.attr("data-date")))&&0<=n)for(var u=0;u<_.events.length;u++){var h=_.events[u];if(i=new Date(h.startDate+" "+h.startTime).getTime(),a=new Date(h.endDate+" "+h.endTime).getTime(),n>=moment(moment(i).format("YYYY-MM-DD 00:00:00")).get("time")&&n<=moment(moment(a).format("YYYY-MM-DD 23:59:59")).get("time")){var f=moment(moment(n).format("YYYY-MM-DDT"+h.startTime)).get("time"),p=moment(moment(n).format("YYYY-MM-DDT"+h.endTime)).get("time");("monthly"==_.settings.view||f<=n&&n<=p)&&((t=new CPEvent(h,e.find(l),void 0,o,{onClick:L})).render(),_.eventInstances.push(t))}}}()},q=function(t){if("abort"!=t.statusText){var e="Failed to load events.";e=t.message&&0<t.message.length?t.message:e}},J=function(t){if(null===_.settings.respData)return t;if("string"!=typeof _.settings.respData)return console.error(new Error("Data path invalid, please contact system's admin.")),t;var e=Y(_.settings.respData);e=(e=e.trim()).split(".");for(var n=Y(t),i=0;i<e.length;i++)n.hasOwnProperty(e[i])&&(n=n[e[i]]);if(n)for(i=0;i<n.length;i++)n[i]=K(n[i]);return n},K=function(t){if(_.settings.map&&_.settings.map.constructor==Object){for(var e=Object.assign({},t),n=Object.keys(_.settings.map),i=0;i<n.length;i++)e[n[i]]=z(t,_.settings.map[n[i]]);return e}return t},z=function(t,e){if("string"!=typeof e)return console.error(new Error("Data path invalid, please contact system's admin.")),t;var n=Y(e);n=(n=n.trim()).split(".");for(var i=Y(t),a=!1,s=0;s<n.length;s++)i.hasOwnProperty(n[s])&&(i=i[n[s]],a=!0);return a?i:null},Z=function(t){t.preventDefault();var e=it(t.currentTarget),n=st.CONTAINER_ID;e.attr("data-format"),it("#"+n)},Q=function(){it(st.VIEW_SELECTOR).off("click",tt),it(st.VIEW_SELECTOR).on("click",tt)},tt=function(t){var e=it(t.currentTarget).attr("data-option");-1==_.viewOptions.indexOf(e)&&(e="monthly"),_.settings.view!=e&&(_.settings=it.extend({},_.settings,{view:e}),M(),setTimeout(s,200))},et=function(){var t=st.VIEWS_LIST_CONTAINER,e=it(t).find("[data-option='"+_.settings.view+"']");0<e.length&&(e.hasClass(at.ACTIVE)||(it(t).find("[data-toggle='calendar-view']").removeClass(at.ACTIVE),e.addClass(at.ACTIVE)))},nt=function(t){return"number"==typeof t&&(t=t.toString()),2<=t.trim().length?t:"0"+t}};it.fn.CalendarPlugin=t.init,it.fn.call=function(t,e,n){return t.apply(n||this,e),this}}(jQuery);var _createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CPEvent=function(){function r(t,e,n,i,a){_classCallCheck(this,r);var s=new Date;this.PREFIX="cp-ev",this.uniqueID=this.PREFIX+s.getTime()+""+Math.ceil(100*Math.random()),this.container=e,this.week=n,this.cellSelector=i,this.event=null,this.data=t,this.start=null,this.options=$.extend({onClick:null},a),this.html=this.html.bind(this),this.render=this.render.bind(this),this.SELECTORS=this.SELECTORS.bind(this),this.CLASSNAMES=this.CLASSNAMES.bind(this),this.componentDidRender=this.componentDidRender.bind(this),this.reposition=this.reposition.bind(this),this.resize=this.resize.bind(this),this.set_start_end=this.set_start_end.bind(this),this.destroy=this.destroy.bind(this)}return _createClass(r,[{key:"SELECTORS",value:function(){return{BODY:"body",FORM:"."+this.PREFIX+"-form",FIELDSET:"fieldset",MODAL:"."+this.PREFIX+"-modal",BUTTON:"."+this.PREFIX+"-button",TITLE:'input[name="event-title"]',END_TIME:'input[name="end-time"]',END_DATE:'input[name="end-date"]',START_DATE:'input[name="start-date"]',START_TIME:'input[name="start-time"]',ERROR_CONTAINER:"."+this.PREFIX+"-error-container"}}},{key:"CLASSNAMES",value:function(){return{CONTAINER:this.PREFIX+"-event-container",EVENT:this.PREFIX+"-event",LABEL:this.PREFIX+"-event-label",START:"start",END:"end",HIGHLIGHTED:"highlighted"}}}]),_createClass(r,[{key:"componentDidRender",value:function(){this.event=this.container.find("#"+this.uniqueID),this.listeners()}},{key:"render",value:function(){this.container.append(this.html()),this.componentDidRender()}},{key:"html",value:function(){return"<button class='"+this.CLASSNAMES().EVENT+"' id='"+this.uniqueID+"' data-evid='"+this.data.id+"' title='"+this.title()+"'><span class='"+this.CLASSNAMES().LABEL+"'>"+this.data.title+"</span></button>"}},{key:"title",value:function(){return this.data.title+" ("+this.data.startDate+" - "+this.data.endDate+")"}},{key:"listeners",value:function(){"function"==typeof this.options.onClick&&(this.event.off("click",this.handle_on_click.bind(this)),this.event.on("click",this.handle_on_click.bind(this))),this.event.off("mouseenter",this.handle_on_mouse_enter.bind(this)),this.event.on("mouseenter",this.handle_on_mouse_enter.bind(this)),this.event.off("mouseleave",this.handle_on_mouse_leave.bind(this)),this.event.on("mouseleave",this.handle_on_mouse_leave.bind(this))}},{key:"handle_on_click",value:function(t){this.options.onClick(this.data)}},{key:"handle_on_mouse_enter",value:function(t){var e=this.event.attr("data-evid");null!=e&&$('[data-evid="'+e+'"]').addClass(this.CLASSNAMES().HIGHLIGHTED)}},{key:"handle_on_mouse_leave",value:function(t){var e=this.event.attr("data-evid");null!=e&&$('[data-evid="'+e+'"]').removeClass(this.CLASSNAMES().HIGHLIGHTED)}},{key:"reposition",value:function(){}},{key:"resize",value:function(){var t=new Date(this.data.startDate),e=new Date(this.data.endDate),n=this.start.offset().left,i=this.end.offset().left+this.end.outerWidth();t.getTime()==parseInt(this.start.attr("data-date"))&&(n+=15,this.event.hasClass(this.CLASSNAMES().START)||this.event.addClass(this.CLASSNAMES().START)),e.getTime()==parseInt(this.end.attr("data-date"))&&(i-=15,this.event.hasClass(this.CLASSNAMES().END)||this.event.addClass(this.CLASSNAMES().END));var a=i-n;this.event.css({width:a+"px"})}},{key:"set_start_end",value:function(){for(var t=new Date(this.data.startDate),e=new Date(this.data.endDate),n=this.week.find(this.cellSelector),i=null,a=null,s=0;s<n.length;s++){var r=n.eq(s),o=parseInt(r.attr("data-date"));if(null==i&&(i=o>=t.getTime()&&o<=e.getTime()||o==t.getTime()?r:null),null==a&&(n.length-1!=s&&o!=e.getTime()||(a=r)),null!=i&&null!=a)break}this.start=i,this.end=a}},{key:"destroy",value:function(){this.event.remove(),this.event=null}}]),r}(),_typeof=(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t});_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CPEventFormModal=function(){function i(t,e){var n=this;_classCallCheck(this,i),Object.defineProperty(this,"SELECTORS",{enumerable:!0,writable:!0,value:function(){return{BODY:"body",FORM:"."+n.PREFIX+"-form",FIELDSET:"fieldset",MODAL:"."+n.PREFIX+"-modal",BUTTON:"."+n.PREFIX+"-button",TITLE:'input[name="event-title"]',END_TIME:'input[name="end-time"]',END_DATE:'input[name="end-date"]',START_DATE:'input[name="start-date"]',START_TIME:'input[name="start-time"]',ERROR_CONTAINER:"."+n.PREFIX+"-error-container"}}}),Object.defineProperty(this,"CLASSNAMES",{enumerable:!0,writable:!0,value:function(){return{SHOW:"show",CANCEL:"cancel",SAVE:"save",DELETE:"delete"}}}),Object.defineProperty(this,"PREFIX",{enumerable:!0,writable:!0,value:"cp-ef"}),Object.defineProperty(this,"fields",{enumerable:!0,writable:!0,value:[]}),this.uniqueID=t,this.id=null,this.modal=null,this.options=$.extend({url:null,edit:!1,onWillShow:null,onShown:null,onWillHide:null,onHidden:null,onDelete:null,fieldsList:[]},e),this.html=this.html.bind(this),this.render=this.render.bind(this),this.componentDidRender=this.componentDidRender.bind(this)}return _createClass(i,[{key:"componentDidRender",value:function(){this.modal=$("#"+this.uniqueID),this.listeners()}},{key:"render",value:function(){var t=this,e=this.SELECTORS().BODY,n=$("#"+this.uniqueID);0<n.length&&n.remove(),$(this.html().trim()).attr("id",this.uniqueID).appendTo(e).call(function(){return t.renderFields()}).call(function(){return t.componentDidRender()})}},{key:"html",value:function(){var n=this;return'<div class="'+this.PREFIX+'-modal">\n            <div class="'+this.PREFIX+'-backdrop">&nbsp;</div>\n            <div class="'+this.PREFIX+'-content">\n                <div class="'+this.PREFIX+'-dialog">\n                    <form action="javascript:;" class="'+this.PREFIX+'-form" method="POST">\n                        <fieldset>\n                           '+(this.options.fieldsList.constructor==Array?this.options.fieldsList.map(function(t,e){return n.renderFieldsList(t,e)}).join(""):null)+'\n                            <div class="'+this.PREFIX+'-actions">\n                                '+(this.options.editting?'<button type="button" \n                                        class="'+this.PREFIX+'-button delete"\n                                    > Delete </button>':"")+'\n                                <button type="button" class="'+this.PREFIX+"-button "+this.CLASSNAMES().CANCEL+'">Cancel</button>\n                                <button type="submit" class="'+this.PREFIX+"-button "+this.CLASSNAMES().SAVE+'">Save</button>\n                            </div>\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n        </div>'}},{key:"renderFieldsList",value:function(t,e){var n=this;if(t.constructor!=Array)return null;var i=""+this.uniqueID+this.PREFIX+"-group"+e;return('\n            <div\n                class="'+this.PREFIX+'-group"\n            >\n                '+t.map(function(t,e){return n.makeField(t,i,e)}).join("")+"\n            </div>\n        ").trim()}},{key:"makeField",value:function(t,e,n){var i=""+e+this.PREFIX+"-group-item"+n,a="#"+i;if(t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor==Object&&Object.keys(t))switch(t.type){case"text":this.fields.push(new CPFText(a,_extends({},t)));break;case"date":this.fields.push(new CPFDate(a,_extends({},t)));break;case"select":this.fields.push(new CPFSelect(a,_extends({},t)));break;case"time":this.fields.push(new CPFTime(a,_extends({},t)))}return'<div class="'+this.PREFIX+'-group-item" id="'+i+'"></div>'}},{key:"fieldHtmlType",value:function(t){switch(t){case"select":return"select";case"long-text":return"textarea";default:return"input"}}},{key:"renderFields",value:function(){if(this.fields&&this.fields.constructor==Array)for(var t=0;t<this.fields.length;t++)this.fields[t].render()}},{key:"listeners",value:function(){var t=this.SELECTORS(),e=t.BUTTON,n=t.FORM;this.modal.find(e).off("click",this.handleButtonClick.bind(this)),this.modal.find(e).on("click",this.handleButtonClick.bind(this)),this.modal.find(n).off("submit",this.handleFormSubmit.bind(this)),this.modal.find(n).on("submit",this.handleFormSubmit.bind(this)),this.modal.find(n).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",this.handleFormTransitionEnd.bind(this)),this.modal.find(n).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",this.handleFormTransitionEnd.bind(this))}},{key:"initializePickers",value:function(){var t=this.SELECTORS(),e=t.START_DATE,n=t.END_DATE;this.modal.find(e).datepicker("destroy"),this.modal.find(e).datepicker(),this.modal.find(n).datepicker("destroy"),this.modal.find(n).datepicker()}},{key:"handleButtonClick",value:function(t){var e=this.CLASSNAMES(),n=e.CANCEL,i=(e.SAVE,e.DELETE),a=$(t.currentTarget);a.hasClass(n)&&this.hide(),a.hasClass(i)&&this.confirmDelete()}},{key:"handleFormSubmit",value:function(t){t.preventDefault(),this.validate()?this.showValidationError():(this.hideValidationError(),this.save())}},{key:"handleFormTransitionEnd",value:function(t){}},{key:"show",value:function(t,e){if(this.hasRendered()){this.reset(t),this.id=e||null;var n=this.CLASSNAMES().SHOW;this.modal.hasClass(n)||this.modal.addClass(n)}}},{key:"confirmDelete",value:function(){confirm("Are you sure you want to delete, this event?"),this.delete()}},{key:"hide",value:function(){if(this.hasRendered()){var t=this.CLASSNAMES().SHOW;this.modal.hasClass(t)&&this.modal.removeClass(t)}}},{key:"hasRendered",value:function(){return null!=this.modal&&null!=this.modal&&0<this.modal.length}},{key:"reset",value:function(t){var e=void 0;this.hideValidationError();for(var n=0;n<this.fields.length;n++)e=this.fields[n],t.hasOwnProperty(e.name)&&e.setValue(t[e.name])}},{key:"formatDate",value:function(t){var e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();return this.leadingZero(n)+"/"+this.leadingZero(i)+"/"+e}},{key:"leadingZero",value:function(t){return"string"!=typeof t&&"number"!=typeof t?"0":("number"==typeof t&&(t=t.toString()),1<t.length?t:"0"+t)}},{key:"validate",value:function(){if(!this.modal)return"An unknow error has occured.";this.getFormData();return!1}},{key:"showValidationError",value:function(){var t=this.validate();if(t){var e=this.SELECTORS(),n=e.FORM,i=e.ERROR_CONTAINER,a=this.CLASSNAMES().SHOW,s=this.modal.find(n).find(i);!s||s.length<1||(s.text(t),s.hasClass(a)||s.addClass(a))}}},{key:"hideValidationError",value:function(){var t=this.SELECTORS(),e=t.FORM,n=t.ERROR_CONTAINER,i=this.CLASSNAMES().SHOW,a=this.modal.find(e).find(n);!a||a.length<1||(a.text(""),a.hasClass(i)&&a.removeClass(i))}},{key:"disable",value:function(t){var e=this.SELECTORS(),n=e.FORM,i=e.FIELDSET,a=e.BUTTON;t=!!t,this.modal.find(n).find(i).attr("disabled",t),this.modal.find(n).find(a).attr("disabled",t)}},{key:"timeRegex",value:function(t){"string"!=typeof t&&(t+="");return/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t)}},{key:"getFormData",value:function(){for(var t={},e=0;e<this.fields.length;e++)t[this.fields[e].name]=this.fields[e].getValue();return t}},{key:"save",value:function(){if(null!=this.buildUrl()){console.log(this.getFormData());var t=$.extend({},this.options.data,this.getFormData());t=this.addStructs(t);var e=$.extend({},this.options.headers);this.disable(!0),$.ajax({url:this.options.url,data:t,headers:e,method:this.options.editting?"PUT":"POST"}).done(this.saveDone.bind(this)).fail(this.saveFailed.bind(this))}}},{key:"saveDone",value:function(t){"function"==typeof this.options.onSaved&&this.options.onSaved();var e=this;setTimeout(function(){e.disable(!1),e.hide()},800)}},{key:"saveFailed",value:function(t){this.disable(!1);var e="Failed to"+(this.options.editting?" save changes.":" save new event.");e=t.message&&0<t.message.length?t.message:e;alert(e)}},{key:"addStructs",value:function(t){if(this.options.requestStruct){var e=JSON.parse(JSON.stringify(this.options.requestStruct));for(var n in e)"string"==typeof e[n]&&void 0!==t[n]&&void 0===t[e[n]]&&(t[e[n]]=JSON.parse(JSON.stringify(t[n])),delete t[n])}return t}},{key:"delete",value:function(){if(null!=this.buildUrl("delete")){var t=$.extend({},this.options.data),e=$.extend({},this.options.headers);this.disable(!0),$.ajax({url:this.options.url,data:t,headers:e,method:"DELETE"}).done(this.deleteDone.bind(this)).fail(this.deleteFailed.bind(this))}}},{key:"deleteDone",value:function(t){"function"==typeof this.options.onDelete&&this.options.onDelete();var e=this;setTimeout(function(){e.disable(!1),e.hide()},800)}},{key:"deleteFailed",value:function(t){this.disable(!1);var e="Could not delete event, please try again in a moment.";e=t.message&&0<t.message.length?t.message:e;alert(e)}},{key:"buildUrl",value:function(t){if(!(t=!!t)&&null==this.options.url||t&&null==this.options.deleteUrl)return null;var e=t?JSON.parse(JSON.stringify(this.options.deleteUrl)):JSON.parse(JSON.stringify(this.options.url)),n=new RegExp(/^(:id)$/,"ig");return this.options.editting?n.test(e)?e=e.replace(n,this.id):this.options.data=$.extend({},this.options.data,{id:this.id}):e=e,e}},{key:"destroy",value:function(){if(this.fields||this.fields.constructor==Array)for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();$(this.uniqueID).remove()}}]),i}();_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CPField=function(){function i(t,e){_classCallCheck(this,i),Object.defineProperty(this,"container",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"props",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prefix",{enumerable:!0,writable:!0,value:"cp-ef"}),Object.defineProperty(this,"id",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"type",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"state",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"idAttribute",{enumerable:!0,writable:!0,value:"data-cpf-id"}),Object.defineProperty(this,"fieldSelector",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerSelector",{enumerable:!0,writable:!0,value:null}),this.container=t,this.props=Object.assign({},this.props,e);var n=new Date;this.id=""+n.getTime()+2e3*Math.random(),this.name=e.name||null,this.fieldSelector=this.htmlType()+'[name="'+this.name+'"]',this.containerSelector="["+this.idAttribute+'="'+this.id+'"]'}return _createClass(i,[{key:"render",value:function(){$(this.container).call(this.handleWillRender.bind(this)).html(this.content().trim()).call(this.handleCompletedRender.bind(this))}},{key:"label",value:function(){return"string"==typeof this.props.label?('\n                <label \n                    for="'+this.props.name+'"\n                >\n                    '+this.props.label+"\n                </label>\n            ").trim():null}},{key:"placeholder",value:function(){return"string"==typeof this.props.placeholder&&0<this.props.placeholder.trim().length?this.props.placeholder:null}},{key:"handleWillRender",value:function(){"function"==typeof this.willRender&&this.willRender()}},{key:"handleCompletedRender",value:function(){"function"==typeof this.completedRender&&this.completedRender()}},{key:"setDefaultValue",value:function(){if(null!=this.props.defaultValue)switch(this.type){case"text":case"time":$(this.containerSelector).children('input[type="'+this.type+'"]').val(this.props.defaultValue);break;case"date":$(this.containerSelector).children('input[type="date"]').val(this.formatDate(this.props.defaultValue))}}},{key:"formatDate",value:function(t){var e=(t=new Date(t)).getFullYear(),n=t.getMonth()+1,i=t.getDate();return e+"-"+this.leadingZero(n)+"-"+this.leadingZero(i)}},{key:"leadingZero",value:function(t){return"string"!=typeof t&&"number"!=typeof t?"0":("number"==typeof t&&(t=t.toString()),1<t.length?t:"0"+t)}},{key:"setState",value:function(t,e){var n=_extends({},this.state);this.state=Object.assign({},n,t),"function"==typeof e&&e(),"function"==typeof this.componentChanged&&(this.componentChanged(n),this.setDefaultValue())}},{key:"setValue",value:function(t){"date"==this.type&&(t=this.formatDate(t)),$(this.containerSelector).children(this.htmlType()+'[name="'+this.name+'"]').val(t)}},{key:"getValue",value:function(){return $(this.containerSelector).children(this.fieldSelector).val()}},{key:"htmlType",value:function(){switch(this.props.type){case"long-text":return"textarea";case"select":return"select";default:return"input"}}},{key:"destory",value:function(){$(this.containerSelector).remove()}}]),i}(),AllowedCPFTypes=["select","text","long-text","email","color-picker","date","time","image","number","phone","pdf","word-doc","spreadsheet","checkbox"];_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CPFDate=function(t){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e));return n.type="date",n}return _inherits(i,CPField),_createClass(i,[{key:"content",value:function(){return'\n            <div class="'+this.prefix+'-control-group" '+this.idAttribute+'="'+this.id+'">\n                '+this.label()+'\n                <input \n                    type="date"\n                    name="'+this.props.name+'"\n                    autoComplete="off"\n                    class="'+this.prefix+'-form-control"\n                    '+(this.placeholder()?'placeholder="'+this.placeholder()+'"':"DD/MM/YYYY")+"\n                />\n            </div>\n        "}}]),i}();_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CPFSelect=function(t){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e));return n.type="select",n}return _inherits(i,CPField),_createClass(i,[{key:"content",value:function(){var e=this;if(this.props.options.constructor!=Object)return"";var n=_extends({"":this.placeholder()},this.props.options),t=Object.keys(n);return'\n            <div class="'+this.prefix+'-control-group" '+this.idAttribute+'="'+this.id+'">\n                '+this.label()+'\n                <select\n                    name="'+this.props.name+'"\n                    class="'+this.prefix+'-form-control"\n                >\n                    '+t.map(function(t){return e.renderOptions(t,n[t])}).join("")+"\n                </select>\n            </div>\n        "}},{key:"renderOptions",value:function(t,e){return('<option \n                    value="'+t+'"\n                    '+(this.props.defaultValue==t?"selected":"")+"\n                >\n                    "+e+"\n                </option>").trim()}}]),i}();_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CPFText=function(t){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e));return n.type="text",n}return _inherits(i,CPField),_createClass(i,[{key:"content",value:function(){return'\n            <div class="'+this.prefix+'-control-group" '+this.idAttribute+'="'+this.id+'">\n                '+this.label()+'\n                <input \n                    type="text"\n                    name="'+this.props.name+'"\n                    autoComplete="off"\n                    class="'+this.prefix+'-form-control"\n                    '+(this.placeholder()?'placeholder="'+this.placeholder()+'"':"")+"\n                />\n            </div>\n        "}}]),i}();_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CPFTime=function(t){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e));return n.type="time",n}return _inherits(i,CPField),_createClass(i,[{key:"content",value:function(){return'\n            <div class="'+this.prefix+'-control-group" '+this.idAttribute+'="'+this.id+'">\n                '+this.label()+'\n                <input \n                    type="time"\n                    name="'+this.props.name+'"\n                    autoComplete="off"\n                    class="'+this.prefix+'-form-control"\n                    '+(this.placeholder()?'placeholder="'+this.placeholder()+'"':"")+"\n                />\n            </div>\n        "}}]),i}();